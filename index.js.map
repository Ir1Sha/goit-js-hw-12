{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const API_KEY = '47416183-73bb296483032a9a16a802376';\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n      .then(response => {\n          if (!response.ok) {\n              throw new Error(\"Sorry, there are no images matching your search query. Please try again!\");\n          }\n          return response.json();\n      });\n}\n","\nexport function renderImages(images) {\n    return images.map(image => `\n        <div class=\"photo-card\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-link\" title=\"${image.tags.replace(/,/g, ' ')}\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" class=\"gallery-image\" />\n            </a>\n            <div class=\"info\">\n                <p>\n                    <span class=\"info-item\"><b>Likes:</b> ${image.likes}</span>\n                    <span class=\"info-item\"><b>Views:</b> ${image.views}</span>\n                    <span class=\"info-item\"><b>Comments:</b> ${image.comments}</span>\n                    <span class=\"info-item\"><b>Downloads:</b> ${image.downloads}</span>\n                </p>\n            </div>\n        </div>\n    `).join('');\n}\n\n\n","import \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\n\nconst form = document.querySelector('#search-form');\nconst input = form.querySelector('input[name=\"searchQuery\"]');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('#loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'title',\n    captionType: 'attr', \n    captionSelector: 'self',\n    captionDelay: 250, \n});\n\nfunction toggleLoader(show) {\n    if (show) {\n        loader.classList.remove('hidden');\n    } else {\n        loader.classList.add('hidden');\n    }\n}\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n\n    const query = input.value.trim();\n    gallery.innerHTML = '';\n\n    if (!query) return;\n\n    toggleLoader(true);\n\n    fetchImages(query)\n        .then(data => {\n            toggleLoader(false);\n\n            if (!data.hits || data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return;\n            }\n\n            const markup = renderImages(data.hits);\n            gallery.insertAdjacentHTML('beforeend', markup);\n\n            lightbox.refresh();\n        })\n        .catch(error => {\n            toggleLoader(false);\n            console.error(error);\n        });\n});\n"],"names":["fetchImages","query","response","renderImages","images","image","form","input","gallery","loader","lightbox","SimpleLightbox","toggleLoader","show","event","data","iziToast","markup","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAIjC,OAAO,MAAM,qEAAgCA,CAAK,0DAA0D,EACvG,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,0EAA0E,EAE9F,OAAOA,EAAS,MAC1B,CAAO,CACP,CCVO,SAASC,EAAaC,EAAQ,CACjC,OAAOA,EAAO,IAAIC,GAAS;AAAA;AAAA,uBAERA,EAAM,aAAa,iCAAiCA,EAAM,KAAK,QAAQ,KAAM,GAAG,CAAC;AAAA,4BAC5EA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,4DAINA,EAAM,KAAK;AAAA,4DACXA,EAAM,KAAK;AAAA,+DACRA,EAAM,QAAQ;AAAA,gEACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAI1E,EAAE,KAAK,EAAE,CACd,CCRA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQD,EAAK,cAAc,2BAA2B,EACtDE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,QACd,YAAa,OACb,gBAAiB,OACjB,aAAc,GAClB,CAAC,EAED,SAASC,EAAaC,EAAM,CACpBA,EACAJ,EAAO,UAAU,OAAO,QAAQ,EAEhCA,EAAO,UAAU,IAAI,QAAQ,CAErC,CAEAH,EAAK,iBAAiB,SAAUQ,GAAS,CACrCA,EAAM,eAAc,EAEpB,MAAMb,EAAQM,EAAM,MAAM,KAAI,EAC9BC,EAAQ,UAAY,GAEfP,IAELW,EAAa,EAAI,EAEjBZ,EAAYC,CAAK,EACZ,KAAKc,GAAQ,CAGV,GAFAH,EAAa,EAAK,EAEd,CAACG,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACtCC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CAED,MAAMC,EAASd,EAAaY,EAAK,IAAI,EACrCP,EAAQ,mBAAmB,YAAaS,CAAM,EAE9CP,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMQ,GAAS,CACZN,EAAa,EAAK,EAClB,QAAQ,MAAMM,CAAK,CAC/B,CAAS,EACT,CAAC"}